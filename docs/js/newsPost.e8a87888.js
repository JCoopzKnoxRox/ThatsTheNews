(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["newsPost"],{"127c":function(e,t,n){},"857a":function(e,t,n){var a=n("1d80"),r=/"/g;e.exports=function(e,t,n,i){var c=String(a(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(i).replace(r,"&quot;")+'"'),o+">"+c+"</"+t+">"}},"8f77":function(e,t,n){"use strict";n("127c")},9911:function(e,t,n){"use strict";var a=n("23e7"),r=n("857a"),i=n("af03");a({target:"String",proto:!0,forced:i("link")},{link:function(e){return r(this,"a","href",e)}})},af03:function(e,t,n){var a=n("d039");e.exports=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},e528:function(e,t,n){"use strict";n.r(t);n("9911"),n("b0c0");var a=n("7a23"),r=Object(a["H"])("data-v-77acb9f1");Object(a["s"])("data-v-77acb9f1");var i={class:"create-post container"},c=Object(a["g"])("h1",null,"Create Article",-1),o={class:"error"},u={id:"image-upload"},l={key:0},s=Object(a["f"])("Drag your image here to begin"),p=Object(a["g"])("br",null,null,-1),d=Object(a["f"])(" or click to browse"),g={key:1},b=Object(a["g"])("input",{class:"button",type:"submit",value:"Create post"},null,-1);Object(a["q"])();var f=r((function(e,t,n,r,f,m){return Object(a["p"])(),Object(a["d"])("div",i,[c,Object(a["g"])("form",{onSubmit:t[6]||(t[6]=Object(a["G"])((function(){return m.create&&m.create.apply(m,arguments)}),["prevent"])),enctype:"multipart/form-data"},[Object(a["g"])("p",o,Object(a["z"])(f.error),1),Object(a["F"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.link=e}),type:"text",placeholder:"link",ref:"link"},null,512),[[a["B"],f.link]]),Object(a["F"])(Object(a["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.wing=e}),type:"text",placeholder:"wing",ref:"wing"},null,512),[[a["B"],f.wing]]),Object(a["F"])(Object(a["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.text=e}),type:"text",placeholder:"text",ref:"text"},null,512),[[a["B"],f.text]]),f.imagePreview?(Object(a["p"])(),Object(a["d"])("div",{key:0,id:"image-preview",style:"background-image: url("+f.imagePreview+")"},null,4)):Object(a["e"])("",!0),Object(a["g"])("div",u,[Object(a["g"])("p",null,[f.image?(Object(a["p"])(),Object(a["d"])("span",g,Object(a["z"])(f.image.name),1)):(Object(a["p"])(),Object(a["d"])("span",l,[s,p,d]))]),Object(a["g"])("input",{type:"file",onChange:t[4]||(t[4]=function(){return m.fileChanged&&m.fileChanged.apply(m,arguments)}),accept:"image/*"},null,32)]),Object(a["F"])(Object(a["g"])("textarea",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.content=t}),name:"name",placeholder:"Content",rows:"25",cols:"80"},null,512),[[a["B"],e.content]]),b],32)])})),m=n("46fe"),j={name:"newsPost",data:function(){return{link:"",wing:"",text:"",error:null,image:null,imagePreview:null}},methods:{create:function(){var e=this,t=new FormData;t.append("title",this.title),t.append("subvue",this.subvue),t.append("content",this.content),console.log(t),this.image&&t.append("image",this.image,this.image.name),m["a"].create_article(t).then((function(t){e.$router.push({name:"Post",params:{id:t.data.id,subvuePermalink:t.data.subvue.permalink}})})).catch((function(t){e.error=t.response.data.error}))},fileChanged:function(e){var t=this;this.image=e.target.files[0];var n=new FileReader;n.onload=function(e){t.imagePreview=e.target.result},n.readAsDataURL(this.image)}},mounted:function(){this.$refs.title.focus()}};n("8f77");j.render=f,j.__scopeId="data-v-77acb9f1";t["default"]=j}}]);
//# sourceMappingURL=newsPost.e8a87888.js.map